<div class="fine-tuning-container no-form-field-bottom-space">
  <!-- Row 1: Range Controls -->
  <div class="controls-row">
    <!-- Range Slider -->
    <div class="range-slider-container">
      <label class="range-label">Time Range: {{ startTimeFormatted() }} - {{ endTimeFormatted() }}</label>
      <mat-slider class="range-slider" [min]="0" [max]="videoDuration" [step]="1" [discrete]="true"
        [displayWith]="formatLabel">
        <input matSliderStartThumb [value]="startSeconds()" (valueChange)="onRangeChange($event)">
        <input matSliderEndThumb [value]="endSeconds()" (valueChange)="onEndRangeChange($event)">
      </mat-slider>
    </div>

    <!-- FPS Selector -->
    <div class="fps-container">
      <div class="fps-label-container">
        <label class="fps-label">Frames per second</label>
        <mat-icon class="info-icon" #tooltip="matTooltip"
          matTooltip="This setting determines how many snapshots are taken from each second of your video. A value of 1 takes one image per second, while 5 takes five images per second. If you want to capture more details in rapidly changing visuals, consider setting a higher FPS value. Keep in mind that higher FPS settings will use more processing tokens and may increase costs."
          matTooltipPosition="above" matTooltipClass="consistent-tooltip" (click)="tooltip.toggle()">
          info_outline
        </mat-icon>
      </div>
      <div class="fps-input-group">
        <button mat-icon-button (click)="onFpsChange(-1)" [disabled]="fps() <= 1" aria-label="Decrease FPS">
          <mat-icon>keyboard_arrow_left</mat-icon>
        </button>
        <span class="fps-value">{{ fps() }}</span>
        <button mat-icon-button (click)="onFpsChange(1)" [disabled]="fps() >= 5" aria-label="Increase FPS">
          <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Row 2: Custom Prompt -->
  <div class="prompt-row">
    <div class="textarea-container">
      <mat-form-field appearance="outline" class="prompt-field">
        <mat-label>Custom Summarisation Prompt</mat-label>
        <textarea matInput rows="3"
          placeholder="Specify how you'd like the video summarised (e.g., 'Create a brief summary highlighting the main arguments')"
          [value]="customPrompt()" (input)="onPromptChange($event)" aria-label="Custom video summarisation prompt">
              </textarea>
      </mat-form-field>
    </div>
  </div>
</div>